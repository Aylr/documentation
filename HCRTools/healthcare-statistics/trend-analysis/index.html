<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Trend Analysis - HCRTools Documentation</title>
  

  <link rel="shortcut icon" href="../../favicon.ico">
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../css/hcstyle.css" rel="stylesheet">
  <link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Trend Analysis";
    var mkdocs_page_input_path = "healthcare-statistics\trend-analysis.md";
    var mkdocs_page_url = "/healthcare-statistics/trend-analysis/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> HCRTools Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Getting started</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../getting-started/where-do-i-begin/">Where do I begin?</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../getting-started/FAQ/">FAQ</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Model Pre-processing</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../model-pre-processing/feature-eng-overview/">Feature engineering overview</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../model-pre-processing/longitudinal-imputation/">Longitudinal Imputation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../model-pre-processing/seasonality-handling/">Seasonality Handling</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Comparing and Deploying Models</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../comparing-and-deploying/compare/">Develop and Compare</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../comparing-and-deploying/deploy/">Deploying a Best Model</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Healthcare Statistics</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../risk-adjusted-comparisons/">Risk-adjusted Comparisons</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Trend Analysis</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#trend-analysis-via-findtrends">Trend Analysis via FindTrends</a></li>
                
                    <li><a class="toctree-l4" href="#what-is-this">What is this?</a></li>
                
                    <li><a class="toctree-l4" href="#why-is-it-helpful">Why is it helpful?</a></li>
                
                    <li><a class="toctree-l4" href="#so-how-do-we-do-it">So, how do we do it?</a></li>
                
                    <li><a class="toctree-l4" href="#step-1-create-some-data-or-pull-it-from-sql-server">Step 1: Create some data or pull it from SQL Server</a></li>
                
                    <li><a class="toctree-l4" href="#step-2-find-trends-via-findtrends">Step 2: Find trends via FindTrends</a></li>
                
                    <li><a class="toctree-l4" href="#full-example-code">Full example code</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../find-targeted-correlations/">Find Targeted Correlations</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../find-all-correlations/">Find All Correlations</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">HCRTools Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Healthcare Statistics &raquo;</li>
        
      
    
    <li>Trend Analysis</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/HealthCatalystSLC/HCRTools" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="trend-analysis-via-findtrends">Trend Analysis via <code>FindTrends</code></h1>
<h2 id="what-is-this">What is this?</h2>
<p>In healthcare one often wants to automatically detect trends occuring across many different measures at the same time. Further, one wants to be able to group by various categories and find trends among subsets of the patient population. </p>
<p>Here one can quickly look across 50+ measures for those that have experienced <a href="https://en.wikipedia.org/wiki/Nelson_rules">notable trends according to Nelson rule 3</a>.</p>
<h2 id="why-is-it-helpful">Why is it helpful?</h2>
<p>This <code>FindTrends</code> function allows one to quickly see if any numeric columns in a dataset have been trending downward or upward over six consecutive months, using automatic subgroupings (like on Gender, for example).</p>
<h2 id="so-how-do-we-do-it">So, how do we do it?</h2>
<p>First, get some data organized (via SQL or Excel) that has the following.
- A numeric column (like mortality rate) that could have a trend
- A categorical column (like Gender) that we'll group by to check trends for Females and Males</p>
<h2 id="step-1-create-some-data-or-pull-it-from-sql-server">Step 1: Create some data or pull it from SQL Server</h2>
<pre><code class="r">dates &lt;- c(as.Date(&quot;2012-01-01&quot;),as.Date(&quot;2012-01-02&quot;),as.Date(&quot;2012-02-01&quot;),
      as.Date(&quot;2012-03-01&quot;),as.Date(&quot;2012-04-01&quot;),as.Date(&quot;2012-05-01&quot;),
      as.Date(&quot;2012-06-01&quot;),as.Date(&quot;2012-06-02&quot;))
y1 &lt;- c(0,1,2,6,8,13,14,16)               # large positive
y2 &lt;- c(.8,1,1.2,1.2,1.2,1.3,1.3,1.5)     # small positive
y3 &lt;- c(1,0,-2,-2,-4,-5,-7,-8)            # big negative
y4 &lt;- c(.5,0,-.5,-.5,-.5,-.5,-.6,0)       # small negative
gender &lt;- c('M','F','F','F','F','F','F','F')
df &lt;- data.frame(dates,y1,y2,y3,y4,gender)
</code></pre>

<h2 id="step-2-find-trends-via-findtrends">Step 2: Find trends via <code>FindTrends</code></h2>
<ul>
<li>
<p><strong>Return</strong>: A data frame containing the dimensional attribute (ie gender), the subset the data was grouped by (ie M/F), the measures that had trends (ie, mortality or readmission), and the ending month.</p>
</li>
<li>
<p><strong>Arguments</strong>:</p>
<ul>
<li><strong>df</strong>: a data frame. This data contains both the (numeric) measure columns and (categorical) columns to group by.</li>
<li><strong>datecol</strong>: a string. Column name for the date or date-time column in your data frame.</li>
<li><strong>coltoaggregate</strong>: a string. Column name for the categorical column we'll group by.</li>
</ul>
</li>
</ul>
<pre><code class="r">res = FindTrends(df = df,
                 datecol = 'dates',
                 coltoaggregate = 'gender')
res
</code></pre>

<h2 id="full-example-code">Full example code</h2>
<pre><code class="r">dates &lt;- c(as.Date(&quot;2012-01-01&quot;),as.Date(&quot;2012-01-02&quot;),as.Date(&quot;2012-02-01&quot;),
      as.Date(&quot;2012-03-01&quot;),as.Date(&quot;2012-04-01&quot;),as.Date(&quot;2012-05-01&quot;),
      as.Date(&quot;2012-06-01&quot;),as.Date(&quot;2012-06-02&quot;))
y1 &lt;- c(0,1,2,6,8,13,14,16)               # large positive
y2 &lt;- c(.8,1,1.2,1.2,1.2,1.3,1.3,1.5)     # small positive
y3 &lt;- c(1,0,-2,-2,-4,-5,-7,-8)            # big negative
y4 &lt;- c(.5,0,-.5,-.5,-.5,-.5,-.6,0)       # small negative
gender &lt;- c('M','F','F','F','F','F','F','F')
df &lt;- data.frame(dates,y1,y2,y3,y4,gender)

res = FindTrends(df = df,
                 datecol = 'dates',
                 coltoaggregate = 'gender')
res
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../find-targeted-correlations/" class="btn btn-neutral float-right" title="Find Targeted Correlations">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../risk-adjusted-comparisons/" class="btn btn-neutral" title="Risk-adjusted Comparisons"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/HealthCatalystSLC/HCRTools" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../risk-adjusted-comparisons/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../find-targeted-correlations/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
